<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Wikipedia Reader</title>
</head>

<body>

    <div class="container">
        <h1>Speed Reading Training</h1>

        <!-- PHASE 1: SETUP -->
        <div id="setup-phase">
            <!-- Language dropdown selector -->
            <div class="language-selector">
                <label for="languageSelect">Language:</label>
                <select id="languageSelect">
                    <!-- Options populated by JS or static HTML -->
                    <option value="en">English</option>
                    <option value="fr" selected>Français (French)</option>
                    <option value="de">Deutsch (German)</option>
                    <option value="es">Español (Spanish)</option>
                    <option value="it">Italiano (Italian)</option>
                    <option value="ja">日本語 (Japanese)</option>
                    <option value="ko">한국어 (Korean)</option>
                    <option value="zh">中文 (Chinese)</option>
                    <option value="ru">Русский (Russian)</option>
                    <option value="pt">Português (Portuguese)</option>
                    <option value="nl">Nederlands (Dutch)</option>
                    <!-- Add other languages as needed -->
                </select>
            </div>

            <!-- Always using 1200 characters limit -->

            <button id="loadButton" class="primary-btn">Start Training</button>
            <div id="status"></div>

            <div id="history-section" class="hidden">
                <div class="history-header">
                    <h3>Your Progress</h3>
                    <button id="downloadCsvButton" class="text-link-btn">Download CSV</button>
                </div>
                <div id="history-timeline"></div>
            </div>
        </div>

        <!-- PHASE 2: READING -->
        <div id="reading-phase" class="hidden">
            <div class="phase-header">
                <h2>Read the text carefully</h2>
                <p>Press <span class="key-badge">SPACE</span> when you are done reading.</p>
            </div>
            <div id="content">
                <div id="title"></div>
                <div id="text"></div>
            </div>
            <p class="mobile-hint">Tap anywhere if you are on mobile</p>
        </div>

        <div id="recall-phase" class="hidden">
            <div class="phase-header">
                <h2>Recall</h2>
                <p id="readingTimeMessage">Write everything you remember from the text.</p>
            </div>
            <textarea id="recallInput" placeholder="Start typing here..."></textarea>
            <button id="finishRecallButton" class="primary-btn">I'm done writing</button>
        </div>

        <!-- PHASE 4: COMPARE -->
        <div id="compare-phase" class="hidden">
            <div class="phase-header">
                <h2>Comparison</h2>
                <p>Compare your recall with the original text.</p>
            </div>
            <div class="comparison-container">
                <div class="comparison-column">
                    <h3>Original Text</h3>
                    <div id="originalTextDisplay"></div>
                </div>
                <div class="comparison-column">
                    <h3>Your Recall</h3>
                    <div id="userRecallDisplay"></div>
                </div>
            </div>
            <button id="goToScoreButton" class="primary-btn">Continue to Self-Assessment</button>
        </div>

        <!-- PHASE 5: SCORE -->
        <div id="score-phase" class="hidden">
            <div class="phase-header">
                <h2>Self Assessment</h2>
                <p>How well did you remember the text?</p>
            </div>

            <div class="score-container">
                <div class="rating-group">
                    <div class="star-rating" data-category="general">
                        <span data-value="1">★</span><span data-value="2">★</span><span data-value="3">★</span><span
                            data-value="4">★</span><span data-value="5">★</span>
                    </div>
                    <div class="rating-value"></div>
                </div>
            </div>

            <button id="restartButton" class="primary-btn">Start New Exercise</button>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>

</body>

</html>