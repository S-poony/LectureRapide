<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Wikipedia Reader</title>
</head>

<body>

    <div class="container">
        <h1 data-i18n="appTitle">Speed Reading Training</h1>

        <!-- PHASE 1: SETUP -->
        <div id="setup-phase">
            <!-- Language dropdown selector -->
            <div class="language-selector">
                <label for="languageSelect" data-i18n="languageLabel">Language:</label>
                <select id="languageSelect">
                    <!-- Options populated by JS or static HTML -->
                    <option value="en">English</option>
                    <option value="fr" selected>Français (French)</option>
                    <option value="de">Deutsch (German)</option>
                    <option value="es">Español (Spanish)</option>
                    <option value="it">Italiano (Italian)</option>
                    <option value="ja">日本語 (Japanese)</option>
                    <option value="ko">한국어 (Korean)</option>
                    <option value="zh">中文 (Chinese)</option>
                    <option value="ru">Русский (Russian)</option>
                    <option value="pt">Português (Portuguese)</option>
                    <option value="nl">Nederlands (Dutch)</option>
                    <!-- Add other languages as needed -->
                </select>
            </div>

            <!-- Always using 1200 characters limit -->

            <button id="loadButton" class="primary-btn" data-i18n="startButton">Start</button>
            <div id="status"></div>

            <div id="history-section" class="hidden">
                <div class="history-header">
                    <h3 data-i18n="historyTitle">Your Progress</h3>
                </div>
                <div id="history-timeline"></div>
                <div class="history-footer">
                    <p class="score-formula" data-i18n="scoreFormula">Score = (Grade × Characters) / Time</p>
                    <button id="downloadCsvButton" class="text-link-btn" data-i18n="downloadCsv">Download CSV</button>
                </div>
            </div>
        </div>

        <!-- PHASE 2: READING -->
        <div id="reading-phase" class="hidden">
            <div class="phase-header">
                <h2 data-i18n="readingPhaseTitle">Read the text carefully</h2>
            </div>
            <div id="content">
                <div id="title"></div>
                <div id="text"></div>
            </div>
            <button id="doneReadingButton" class="primary-btn" title="Shortcut: Press SPACE"
                data-i18n="doneReadingButton">I am
                done reading</button>
        </div>

        <div id="recall-phase" class="hidden">
            <div class="phase-header">
                <h2 data-i18n="recallPhaseTitle">Recall</h2>
                <p id="readingTimeMessage" data-i18n="readingTimeMessage">Write everything you remember from the text.
                </p>
            </div>
            <textarea id="recallInput" data-i18n-attr="placeholder:recallPlaceholder"
                placeholder="Start typing here..."></textarea>
            <button id="finishRecallButton" class="primary-btn" data-i18n="finishRecallButton">I'm done writing</button>
        </div>

        <!-- PHASE 4: COMPARE -->
        <div id="compare-phase" class="hidden">
            <div class="phase-header">
                <h2 data-i18n="comparePhaseTitle">Comparison</h2>
                <p data-i18n="comparePhaseDescription">Compare your recall with the original text.</p>
            </div>
            <div class="comparison-container">
                <div class="comparison-column">
                    <h3 data-i18n="originalTextTitle">Original Text</h3>
                    <div id="originalTextDisplay"></div>
                </div>
                <div class="comparison-column">
                    <h3 data-i18n="userRecallTitle">Your Recall</h3>
                    <div id="userRecallDisplay"></div>
                </div>
            </div>
            <button id="goToScoreButton" class="primary-btn" data-i18n="continueToScoreButton">Continue to
                Self-Assessment</button>
        </div>

        <!-- PHASE 5: SCORE -->
        <div id="score-phase" class="hidden">
            <div class="phase-header">
                <h2 data-i18n="scorePhaseTitle">Self Assessment</h2>
                <p data-i18n="scorePhaseDescription">How well did you remember the text?</p>
            </div>

            <div class="score-container">
                <div class="rating-group">
                    <div class="star-rating" data-category="general">
                        <span data-value="1">★</span><span data-value="2">★</span><span data-value="3">★</span><span
                            data-value="4">★</span><span data-value="5">★</span>
                    </div>
                    <div class="rating-value"></div>
                </div>
            </div>

            <button id="restartButton" class="primary-btn" data-i18n="restartButton">Start New Exercise</button>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>

</body>

</html>